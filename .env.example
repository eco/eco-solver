# Application
NODE_ENV=development
PORT=3000

# MongoDB
MONGODB_URI=mongodb://localhost:27017/intent-solver

# Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# EVM Chain Configuration
EVM_RPC_URL=https://mainnet.infura.io/v3/YOUR_INFURA_KEY
EVM_WEBSOCKET_URL=wss://mainnet.infura.io/ws/v3/YOUR_INFURA_KEY
EVM_CHAIN_ID=1
EVM_PRIVATE_KEY=0x...
EVM_WALLET_ADDRESS=0x...
EVM_INTENT_SOURCE_ADDRESS=0x...
EVM_INBOX_ADDRESS=0x...

# Solana Configuration
SOLANA_RPC_URL=https://api.mainnet-beta.solana.com
SOLANA_WEBSOCKET_URL=wss://api.mainnet-beta.solana.com
SOLANA_SECRET_KEY=[...]
SOLANA_WALLET_ADDRESS=...
SOLANA_PROGRAM_ID=...

# Queue Configuration
QUEUE_CONCURRENCY=5
QUEUE_RETRY_ATTEMPTS=3
QUEUE_RETRY_DELAY=5000

# AWS Secrets Manager Configuration
# Set USE_AWS_SECRETS=true to enable fetching secrets from AWS
USE_AWS_SECRETS=false
AWS_REGION=us-east-1
AWS_SECRET_NAME=blockchain-intent-solver-secrets
# Optional: If not provided, will use IAM role or instance profile
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=

# When USE_AWS_SECRETS=true, the service will fetch a JSON secret from AWS Secrets Manager
# The secret should contain the same environment variables as above, for example:
# {
#   "MONGODB_URI": "mongodb://prod-server:27017/intent-solver",
#   "REDIS_PASSWORD": "strong-password",
#   "EVM_PRIVATE_KEY": "0x...",
#   "SOLANA_SECRET_KEY": "[...]"
# }
#
# The AWS secrets will be deep merged with the base configuration, with AWS values taking precedence.
# This means you can have default values in environment variables and override only specific values from AWS.
# For example, if your .env has REDIS_HOST=localhost and AWS has REDIS_PASSWORD=secret,
# the final config will have both: host from .env and password from AWS.
#
# Configuration Schema:
# The configuration is validated using Zod schema defined in src/config/config.schema.ts
# Environment variable names are automatically derived from the schema structure:
# - Nested paths use underscores: mongodb.uri → MONGODB_URI
# - CamelCase is converted to SNAKE_CASE: evm.chainId → EVM_CHAIN_ID
# - Arrays use numeric indices: evm.network[10].rpcUrls[0] → EVM_NETWORK_10_RPC_URLS_0